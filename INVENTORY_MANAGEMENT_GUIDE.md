# ุฏููู ูุธุงู ุฅุฏุงุฑุฉ ุงููุฎุฒูู ุงูุชููุงุฆู
## POS Inventory Management System Guide

### ูุธุฑุฉ ุนุงูุฉ
ุชู ุชุทููุฑ ูุธุงู ุฅุฏุงุฑุฉ ุงููุฎุฒูู ุงูุชููุงุฆู ูุถูุงู ุชุญุฏูุซ ูููุงุช ุงูููุชุฌุงุช ุชููุงุฆูุงู ุจุนุฏ ูู ุนูููุฉ ุจูุน ูุญูุธ ุงูููุงุชูุฑ ุจุดูู ุตุญูุญ.

## โ ุงูููููุงุช ุงูููุฌุฒุฉ

### 1. ุชุญุฏูุซ ูุงุนุฏุฉ ุงูุจูุงูุงุช (ProductRepository.dart)
```dart
// ุทุฑู ุฅุฏุงุฑุฉ ุงููููุงุช
Future<Result<bool>> reduceProductQuantity(int productId, int quantity)
Future<Result<bool>> increaseProductQuantity(int productId, int quantity)
Future<Result<List<ProductModel>>> getLowStockProducts(int threshold)
```

### 2. ุชุญุณูู ูุฎุฒู ุงููุจูุนุงุช (SaleRepository.dart)
```dart
// ุญูุธ ุงููุงุชูุฑุฉ ูุน ุชุญุฏูุซ ุงููุฎุฒูู
Future<Result<int>> saveSale(SaleModel sale)
// ูุน ุงูุชุญูู ูู ุชููุฑ ุงููููุฉ ูุชุญุฏูุซ ุงููุฎุฒูู ุชููุงุฆูุงู
```

### 3. ูุฒูุฏ ุฅุฏุงุฑุฉ ุงููุจูุนุงุช (SaleProvider.dart)
```dart
// ูุฆุฉ ูุชุงุฆุฌ ุงูุชุญูู ูู ุงููุฎุฒูู
class StockValidationResult {
  final bool isValid;
  final List<String> errors;
  final List<ProductModel> insufficientStockProducts;
}

// ุทุฑู ุงูุชุญูู ูุงููุฑุงูุจุฉ
Future<StockValidationResult> _validateStock(List<SaleItemModel> items)
Future<void> _checkLowStockProducts()
```

### 4. ูุงุฌูุงุช ุงููุณุชุฎุฏู ุงูุฌุฏูุฏุฉ

#### ุฃ. ุชูุจููุงุช ุงููุฎุฒูู ุงูููุฎูุถ (LowStockAlert.dart)
- ุนุฑุถ ุชูุจููุงุช ููุฑูุฉ ููููุชุฌุงุช ููุฎูุถุฉ ุงููุฎุฒูู
- ุชูุงุตูู ูุงููุฉ ุนู ูู ููุชุฌ ูุญุงูุฉ ูุฎุฒููู
- ุฅููุงููุฉ ุชุฒููุฏ ุงููุฎุฒูู ูุจุงุดุฑุฉ ูู ุงูุชูุจูู

#### ุจ. ุดุฑูุท ุญุงูุฉ ุงููุฎุฒูู (InventoryStatusBar.dart)
- ุนุฑุถ ุฅุญุตุงุฆูุงุช ุงููุฎุฒูู ูู ุงูููุช ุงููุนูู
- ูุณุจุฉ ุงููุฎุฒูู ุงูุตุญู
- ุฃุฏูุงุช ุฅุฏุงุฑุฉ ุณุฑูุนุฉ ูููุฎุฒูู

#### ุฌ. ุดุงุดุฉ ุงุฎุชุจุงุฑ ุงููุธุงู (InventoryTestScreen.dart)
- ุจูุงูุงุช ุชุฌุฑูุจูุฉ ูุงุฎุชุจุงุฑ ุงููุธุงู
- ุนุฑุถ ุงูููุชุฌุงุช ุจุญุงูุงุช ูุฎุฒูู ูุฎุชููุฉ
- ูุงุฌูุฉ ุชูุงุนููุฉ ูููู ุงููุธุงู

## ๐ง ุขููุฉ ุงูุนูู

### 1. ุนูุฏ ุฅุชูุงู ุงูุจูุน
```dart
// ูู SaleProvider.completeSale()
1. ุงูุชุญูู ูู ุชููุฑ ุงููููุงุช ุงููุทููุจุฉ
2. ุญูุธ ุงููุงุชูุฑุฉ ูู ูุงุนุฏุฉ ุงูุจูุงูุงุช
3. ุชุญุฏูุซ ูููุงุช ุงูููุชุฌุงุช ุชููุงุฆูุงู
4. ูุญุต ุงูููุชุฌุงุช ููุฎูุถุฉ ุงููุฎุฒูู
5. ุฅุธูุงุฑ ุชูุจููุงุช ุฅุฐุง ูุฒู ุงูุฃูุฑ
```

### 2. ุงูุชุญูู ูู ุตุญุฉ ุงููุฎุฒูู
```dart
Future<StockValidationResult> _validateStock(List<SaleItemModel> items) {
  // ูุญุต ูู ููุชุฌ ูู ุงููุงุชูุฑุฉ
  // ุงูุชุฃูุฏ ูู ุชููุฑ ุงููููุฉ ุงููุทููุจุฉ
  // ุฅุฑุฌุงุน ูุชุงุฆุฌ ููุตูุฉ ุนู ุญุงูุฉ ุงููุฎุฒูู
}
```

### 3. ุชุญุฏูุซ ุงููุฎุฒูู ุงูุชููุงุฆู
```dart
// ูู ProductRepository
Future<Result<bool>> reduceProductQuantity(int productId, int quantity) {
  // ุชูููู ูููุฉ ุงูููุชุฌ ุจุงูููุฏุงุฑ ุงููุญุฏุฏ
  // ุงูุชุญูู ูู ุนุฏู ูุตูู ุงููููุฉ ูุฃุฑูุงู ุณุงูุจุฉ
  // ุชุญุฏูุซ ูุงุนุฏุฉ ุงูุจูุงูุงุช
}
```

## ๐ฑ ููููุฉ ุงูุงุณุชุฎุฏุงู

### 1. ุฏูุฌ ุงูุชูุจููุงุช ูู ุงูุดุงุดุฉ ุงูุฑุฆูุณูุฉ
```dart
// ูู ุฃู ุดุงุดุฉ ุชุฑูุฏ ุนุฑุถ ุชูุจููุงุช ุงููุฎุฒูู
import 'package:pos/View/Widgets/LowStockAlert.dart';

// ูู body ุงูุดุงุดุฉ
Column(
  children: [
    LowStockAlert(), // ุชูุจููุงุช ุงููุฎุฒูู
    // ุจุงูู ูุญุชููุงุช ุงูุดุงุดุฉ
  ],
)
```

### 2. ุฅุถุงูุฉ ุดุฑูุท ุญุงูุฉ ุงููุฎุฒูู
```dart
// ูู ุฃู ุดุงุดุฉ ุชุฑูุฏ ุนุฑุถ ุญุงูุฉ ุงููุฎุฒูู
import 'package:pos/View/Widgets/InventoryStatusBar.dart';

// ูู body ุงูุดุงุดุฉ
Column(
  children: [
    InventoryStatusBar(), // ุดุฑูุท ุญุงูุฉ ุงููุฎุฒูู
    // ุจุงูู ูุญุชููุงุช ุงูุดุงุดุฉ
  ],
)
```

### 3. ุงุฎุชุจุงุฑ ุงููุธุงู
```dart
// ูููุตูู ูุดุงุดุฉ ุงูุงุฎุชุจุงุฑ
Navigator.push(
  context,
  MaterialPageRoute(
    builder: (context) => InventoryTestScreen(),
  ),
);
```

## โ๏ธ ุงูุชูุจููุงุช ูุงูุฑุณุงุฆู

### ุฑุณุงุฆู ุงููุฌุงุญ
- โ "ุชู ุญูุธ ุงููุงุชูุฑุฉ ุฑูู #123"
- โ "ุชู ุชุญุฏูุซ ุงููุฎุฒูู ุชููุงุฆูุงู"
- โ "ุชู ุชุฒููุฏ ุงููุฎุฒูู ุจูุฌุงุญ"

### ุฑุณุงุฆู ุงูุชุญุฐูุฑ  
- โ๏ธ "ุชูุจูู: ููุชุฌุงุช ููุฎูุถุฉ ุงููุฎุฒูู"
- โ๏ธ "ุงููููุฉ ุงููุทููุจุฉ ุบูุฑ ูุชููุฑุฉ"
- โ๏ธ "ูุฑุฌู ุชุฒููุฏ ุงููุฎุฒูู"

### ุฑุณุงุฆู ุงูุฎุทุฃ
- โ "ูุดู ูู ุญูุธ ุงููุงุชูุฑุฉ"
- โ "ุฎุทุฃ ูู ุชุญุฏูุซ ุงููุฎุฒูู"
- โ "ุงูููุชุฌ ุบูุฑ ููุฌูุฏ"

## ๐ฏ ุงูููุฒุงุช ุงูุฐููุฉ

### 1. ุงูุชุญูู ุงูุฐูู ูู ุงููุฎุฒูู
- ูุญุต ุงููููุงุช ูุจู ุฅุชูุงู ุงูุจูุน
- ููุน ุงูุจูุน ุจูููุงุช ุฃูุซุฑ ูู ุงููุชููุฑ
- ุชุญุฏูุซ ููุฑู ูููููุงุช

### 2. ูุธุงู ุงูุชูุจููุงุช ุงููุจูุฑุฉ
- ุชูุจููุงุช ููููุชุฌุงุช ููุฎูุถุฉ ุงููุฎุฒูู
- ุญุฏ ุฃุฏูู ูุงุจู ููุชุฎุตูุต ููู ููุชุฌ
- ุนุฑุถ ุฌุฐุงุจ ููุงุถุญ ููุชูุจููุงุช

### 3. ุฅุญุตุงุฆูุงุช ุงููุฎุฒูู
- ูุณุจุฉ ุงููุฎุฒูู ุงูุตุญู
- ุนุฏุฏ ุงูููุชุฌุงุช ููุฎูุถุฉ ุงููุฎุฒูู
- ุชูุงุฑูุฑ ููุตูุฉ ุนู ุญุงูุฉ ุงููุฎุฒูู

## ๐ง ุงูุชุฎุตูุต ูุงูุชุทููุฑ

### ุชุฎุตูุต ุญุฏ ุงูุชูุจูู
```dart
// ูู ProductModel
final int lowStockThreshold = 5; // ูููู ุชุบููุฑู ุญุณุจ ุงูููุชุฌ
```

### ุฅุถุงูุฉ ุชูุจููุงุช ูุฎุตุตุฉ
```dart
// ูู ุฃู ููุงู ูู ุงูุชุทุจูู
ScaffoldMessenger.of(context).showSnackBar(
  SnackBar(
    content: Text('ุฑุณุงูุฉ ุงูุชูุจูู'),
    backgroundColor: Colors.orange,
  ),
);
```

### ุชุฎุตูุต ุฃููุงู ุงูุชูุจููุงุช
```dart
// ูู ุงูููุฏุฌุช
Color statusColor = product.quantity == 0 
  ? Colors.red      // ููุฏ ุงููุฎุฒูู
  : product.quantity <= product.lowStockThreshold 
    ? Colors.orange // ูุฎุฒูู ููุฎูุถ
    : Colors.green; // ูุฎุฒูู ุทุจูุนู
```

## ๐ ูุซุงู ุนููู

### ุณููุงุฑูู ุงูุจูุน ุงููุงูู
1. **ุงูุนููู ูุฎุชุงุฑ ุงูููุชุฌุงุช**
2. **ุงููุธุงู ูุชุญูู ูู ุชููุฑ ุงููููุงุช**
3. **ุฅุชูุงู ุนูููุฉ ุงูุฏูุน**
4. **ุญูุธ ุงููุงุชูุฑุฉ ุชููุงุฆูุงู**
5. **ุชุญุฏูุซ ูููุงุช ุงูููุชุฌุงุช**
6. **ูุญุต ุงููุฎุฒูู ุงูููุฎูุถ**
7. **ุนุฑุถ ุงูุชูุจููุงุช ุฅุฐุง ูุฒู**

### ููุฏ ุงููุซุงู
```dart
// ูู SaleProvider
Future<void> completeSale() async {
  // 1. ุงูุชุญูู ูู ุงููุฎุฒูู
  final validation = await _validateStock(saleItems);
  if (!validation.isValid) {
    _showStockErrors(validation.errors);
    return;
  }
  
  // 2. ุฅูุดุงุก ุงููุงุชูุฑุฉ
  final sale = SaleModel(
    date: DateTime.now(),
    items: saleItems,
    total: calculateTotal(),
  );
  
  // 3. ุญูุธ ุงููุงุชูุฑุฉ ูุชุญุฏูุซ ุงููุฎุฒูู
  final result = await saleRepository.saveSale(sale);
  if (result.isSuccess) {
    print("ุชู ุญูุธ ุงููุงุชูุฑุฉ ุฑูู ${result.data}");
    
    // 4. ูุญุต ุงููุฎุฒูู ุงูููุฎูุถ
    await _checkLowStockProducts();
    
    // 5. ุฅุนุงุฏุฉ ุชุนููู ุงูุจูุงูุงุช
    clearSale();
  }
}
```

## ๐ ุงููุชุงุฆุฌ ุงููุญููุฉ

โ **ุชุญุฏูุซ ุชููุงุฆู ูููุฎุฒูู** - ูุชู ุชุญุฏูุซ ูููุงุช ุงูููุชุฌุงุช ุชููุงุฆูุงู ุจุนุฏ ูู ุจูุน  
โ **ุญูุธ ุงูููุงุชูุฑ** - ูุชู ุญูุธ ุฌููุน ุงูููุงุชูุฑ ุจูุฌุงุญ ูู ูุงุนุฏุฉ ุงูุจูุงูุงุช  
โ **ุชูุจููุงุช ุฐููุฉ** - ูุธุงู ุชูุจููุงุช ูุชุทูุฑ ูููุฎุฒูู ุงูููุฎูุถ  
โ **ูุงุฌูุงุช ุฌุฐุงุจุฉ** - ุชุตููู ุงุญุชุฑุงูู ูุณูู ุงูุงุณุชุฎุฏุงู  
โ **ุฃูุงู ุงูุจูุงูุงุช** - ูุนุงููุงุช ุขููุฉ ูุน ุฅุฏุงุฑุฉ ุฃุฎุทุงุก ุดุงููุฉ  

## ๐ ููุฏุนู ูุงููุณุงุนุฏุฉ

ูุฐุง ุงููุธุงู ุฌุงูุฒ ููุงุณุชุฎุฏุงู ุงูููุฑู ููููุฑ:
- ุฅุฏุงุฑุฉ ูุฎุฒูู ุชููุงุฆูุฉ ูููุซููุฉ
- ุชูุจููุงุช ุฐููุฉ ููููุฏุฉ  
- ูุงุฌูุงุช ูุณุชุฎุฏู ุงุญุชุฑุงููุฉ
- ุฃูุงู ูููุซูููุฉ ุนุงููุฉ

ุชู ุชุทููุฑ ุงููุธุงู ุจุนูุงูุฉ ูุถูุงู ุชูุจูุฉ ุฌููุน ูุชุทูุจุงุช ุฅุฏุงุฑุฉ ุงููุฎุฒูู ูู ูุธุงู ููุงุท ุงูุจูุน.
